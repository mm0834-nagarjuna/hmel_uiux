<mvc:View
    controllerName="apprisal.controller.Ig"
    xmlns:core="sap.ui.core"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:uxap="sap.uxap"
    xmlns="sap.m"
    xmlns:tnt="sap.tnt"
    xmlns:l="sap.ui.layout"
    height="90%"
>
    <uxap:ObjectPageLayout
        upperCaseAnchorBar="false"
        showFooter="true"
    >
        <uxap:layoutData>
            <FlexItemData growFactor="1" />
        </uxap:layoutData>
        <uxap:sections>
            <uxap:ObjectPageSection 
                visible="{= !${apprisalData>igKPIEdit} }"
                >
            
				<uxap:subSections>
                
					<uxap:ObjectPageSubSection
                        titleUppercase="false"
                        title="Individual Goal"
                        visible="{= !${apprisalData>igKPIEdit} }"
                        class="mvnDummyEmptyObjectPageSubSection"
                    >
						<HBox/>
					</uxap:ObjectPageSubSection>
				</uxap:subSections>
			</uxap:ObjectPageSection>
            <uxap:ObjectPageSection 
            visible="{apprisalData>igKPIEdit}"
            >
                <uxap:subSections>
                    <uxap:ObjectPageSubSection
                        titleUppercase="false"
                        title="Individual Goal"
                    >
                        <OverflowToolbar
                            class="mvnObjectPageLayoutTitleOverflowToolbar"
                        >
                            <ToolbarSpacer />
                            <Button
                            icon="sap-icon://copy"
                                text="Previous Year KPAs"
                                type="Ghost"
                                press="onClickPreviousYear"
                            />
                            <Button
                            icon="sap-icon://create-form"
                                text="Add KPA"
                                type="Ghost"
                                press="onItemSelect"
                            />
                            <MenuButton
                                text="Upload/Download"
                                buttonMode="Split"
                                defaultAction="onDefaultAction"
                                beforeMenuOpen="onBeforeMenuOpen"
                            >
                                <menu>
                                    <Menu itemSelected="onMenuAction">
                                        <MenuItem
                                            text="Upload"
                                            icon="sap-icon://upload"
                                        />
                                        <MenuItem
                                            text="Download Template"
                                            icon="sap-icon://download"
                                        />
                                    </Menu>
                                </menu>
                            </MenuButton>
                        </OverflowToolbar>
                        <!-- <uxap:actions><Button icon="sap-icon://synchronize"/><Button icon="sap-icon://expand"/></uxap:actions> -->
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
             <uxap:ObjectPageSection
                title="2.1"
                showTitle="false"
             >
                <uxap:subSections>
                    <uxap:ObjectPageSubSection
                        titleUppercase="false"
                        title="2.1"
                     >
                        <VBox>
                            <OverflowToolbar>
                                <Title text="2.1 Key Performance Area" />
                                <Button icon="sap-icon://delete" />
                                <ToolbarSpacer />
                                <Button
                                    icon="sap-icon://add-employee"
                                    text="Appraiser"
                                    press="onClickAddAppraiser"
                                />
                            </OverflowToolbar>
                            <Tree
                                id="Tree6"
                                items="{myGoal>/COF/KSP002}"
                            >
                                <CustomTreeItem>
                                    <FlexBox
                                        alignItems="Center"
                                        width="100%"
                                        direction="Row"
                                        renderType="Bare"
                                        class="noGapBox"
                                    >
                                        <items>
                                             <VBox width="100%" visible="{= ${device>/browser/mobile} }">
                                                <OverflowToolbar
                                                    style="Clear"
                                                    design="Transparent"
                                                    visible="{= ${myGoal>key} !== 'Weightage' }"
                                                >
                                                    <HBox
                                                        alignItems="Center"
                                                        justifyContent="SpaceBetween"
                                                        width="100%"
                                                    >
                                                        <Text
                                                            text="{myGoal>num} {myGoal>title}"
                                                            tooltip="{myGoal>title}"
                                                            
                                                        />
                                                        <HBox
                                                            alignItems="Center"
                                                            justifyContent="End"
                                                        >
                                                            <Button
                                                                icon="{myGoal>addIcon}"
                                                                text="{myGoal>addText}"
                        
                                                                press="onClickAddAppraiser"
                                                                class="sapUiTinyMarginBegin sapUiTinyMarginEnd"
                                                                visible="{path: 'myGoal>add', formatter: '.formatter.btnvisiblitiy'}"
                                                            />
                                                            <Button
                                                                icon="{myGoal>deleteIcon}"
                                                                press="handleButtonPress"
                                                                class="sapUiTinyMarginBegin sapUiTinyMarginEnd"
                                                                visible="{path: 'myGoal>delete', formatter: '.formatter.btnvisiblitiy'}"
                                                            />
                                                        </HBox>
                                                    </HBox>
                                                </OverflowToolbar>
                                                <TextArea
                                                    value="{myGoal>value}"
                                                    width="100%"
                                                    visible="{= ${myGoal>key} !== 'Weightage' }"
                                                />
                                                <VBox
                                                    width="100%"
                                                    alignItems="Start"
                                                    justifyContent="Start"
                                                >
                                                    <VBox
                                                        width="100%"
                                                        alignItems="Start"
                                                        justifyContent="Center"
                                                    >
                                                        <ObjectIdentifier
                                                            title="Weightage (%): "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <ComboBox
                                                            id="igmweight"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </VBox>

                                                    <VBox
                                                        width="100%"
                                                        alignItems="Start"
                                                        justifyContent="Start"
                                                    >
                                                        <HBox  width="100%"
                                                        alignItems="Center"
                                                        justifyContent="Start" >
                                                        <ObjectIdentifier
                                                            title="Appraisee Score: "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <Button
                                                            icon="sap-icon://information"
                                                            type="Transparent"
                                                            press="onClickScoreInfo"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                            class="sapUiSmallMarginBegin sapUiSmallMarginEnd"
                                                        />
                                                        </HBox>
                                                        <ComboBox
                                                            id="igmAESCR"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </VBox>

                                                    <VBox
                                                        width="100%"
                                                        alignItems="Start"
                                                        justifyContent="Start"
                                                    >
                                                       <HBox  width="100%"
                                                        alignItems="Center"
                                                        justifyContent="Start" >
                                                        <ObjectIdentifier
                                                            title="Appraiser Score: "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <Button
                                                            icon="sap-icon://information"
                                                            type="Transparent"
                                                            press="onClickScoreInfo"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                            class="sapUiSmallMarginBegin sapUiSmallMarginEnd"
                                                        />
                                                        </HBox>
                                                        <ComboBox
                                                            id="igmARSCR"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </VBox>
                                                </VBox>
                                            </VBox>
                                            <VBox width="100%" visible="{= !${device>/browser/mobile} }">
                                                <OverflowToolbar
                                                    style="Clear"
                                                    design="Transparent"
                                                    visible="{= ${myGoal>key} !== 'Weightage' }"
                                                >
                                                    <HBox
                                                        alignItems="Center"
                                                        justifyContent="SpaceBetween"
                                                        width="100%"
                                                    >
                                                        <ObjectIdentifier
                                                            title="{myGoal>num} {myGoal>title}"
                                                            tooltip="{myGoal>title}"
                                                            
                                                        />
                                                        <HBox
                                                            alignItems="Center"
                                                            justifyContent="End"
                                                        >
                                                            <Button
                                                                icon="{myGoal>addIcon}"
                                                                text="{myGoal>addText}"
                                                                
                                                                press="onClickAddAppraiser"
                                                                class="sapUiTinyMarginBegin sapUiTinyMarginEnd"
                                                                visible="{= ${myGoal>addIcon} === 'sap-icon://add' }"
                                                            />
                                                            <Button
                                                                icon="{myGoal>deleteIcon}"
                                                                press="handleButtonPress"
                                                                class="sapUiTinyMarginBegin sapUiTinyMarginEnd"
                                                                visible="{= ${myGoal>deleteIcon} === 'sap-icon://delete' }"
                                                            />
                                                        </HBox>
                                                    </HBox>
                                                </OverflowToolbar>
                                                <TextArea
                                                    value="{myGoal>value}"
                                                    width="100%"
                                                    visible="{= ${myGoal>key} !== 'Weightage' }"
                                                />
                                                <HBox
                                                    width="100%"
                                                    alignItems="Center"
                                                    justifyContent="SpaceBetween"
                                                >
                                                    <HBox
                                                        width="33%"
                                                        alignItems="Center"
                                                        justifyContent="Start"
                                                    >
                                                        <ObjectIdentifier
                                                            title="Weightage (%): "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <ComboBox
                                                            id="igweight"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </HBox>

                                                    <HBox
                                                        width="33%"
                                                        alignItems="Center"
                                                        justifyContent="Start"
                                                    >
                                                        <ObjectIdentifier
                                                            title="Appraisee Score: "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <Button
                                                            icon="sap-icon://information"
                                                            type="Transparent"
                                                            press="onClickScoreInfo"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                            class="sapUiSmallMarginBegin sapUiSmallMarginEnd"
                                                        />
                                                        <ComboBox
                                                            id="igAESCR"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </HBox>

                                                    <HBox
                                                        width="33%"
                                                        alignItems="Center"
                                                        justifyContent="Start"
                                                    >
                                                        <ObjectIdentifier
                                                            title="Appraiser Score: "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <Button
                                                            icon="sap-icon://information"
                                                            type="Transparent"
                                                            press="onClickScoreInfo"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                            class="sapUiSmallMarginBegin sapUiSmallMarginEnd"
                                                        />
                                                        <ComboBox
                                                            id="igARSCR"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </HBox>
                                                </HBox>
                                            </VBox>
                                        </items>
                                    </FlexBox>
                                </CustomTreeItem>
                            </Tree>
                        </VBox>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>

             <uxap:ObjectPageSection
                title="2.2"
                showTitle="false"
               >
                <uxap:subSections>
                    <uxap:ObjectPageSubSection
                        titleUppercase="false"
                        title="2.2"
                     >
                        <VBox>
                            <OverflowToolbar>
                                <Title text="2.2 Key Performance Area" />
                                <Button icon="sap-icon://delete" />
                                <ToolbarSpacer />
                                <Button
                                    icon="sap-icon://add-employee"
                                    text="Appraiser"
                                    press="onClickAddAppraiser"
                                />
                            </OverflowToolbar>
                            <Tree
                                id="Tree7"
                                items="{myGoal>/COF/KSP001}"
                            >
                                <CustomTreeItem>
                                    <FlexBox
                                        alignItems="Center"
                                        width="100%"
                                        direction="Row"
                                        renderType="Bare"
                                        class="noGapBox"
                                    >
                                        <items>
                                             <VBox width="100%" visible="{= ${device>/browser/mobile} }">
                                                <OverflowToolbar
                                                    style="Clear"
                                                    design="Transparent"
                                                    visible="{= ${myGoal>key} !== 'Weightage' }"
                                                >
                                                    <HBox
                                                        alignItems="Center"
                                                        justifyContent="SpaceBetween"
                                                        width="100%"
                                                    >
                                                        <Text
                                                            text="{myGoal>num} {myGoal>title}"
                                                            tooltip="{myGoal>title}"
                                                            
                                                        />
                                                        <HBox
                                                            alignItems="Center"
                                                            justifyContent="End"
                                                        >
                                                            <Button
                                                                icon="{myGoal>addIcon}"
                                                                text="{myGoal>addText}"
                                                                
                                                                press="onClickAddAppraiser"
                                                                class="sapUiTinyMarginBegin sapUiTinyMarginEnd"
                                                                visible="{path: 'myGoal>add', formatter: '.formatter.btnvisiblitiy'}"
                                                            />
                                                            <Button
                                                                icon="{myGoal>deleteIcon}"
                                                                press="handleButtonPress"
                                                                class="sapUiTinyMarginBegin sapUiTinyMarginEnd"
                                                                visible="{path: 'myGoal>delete', formatter: '.formatter.btnvisiblitiy'}"
                                                            />
                                                        </HBox>
                                                    </HBox>
                                                </OverflowToolbar>
                                                <TextArea
                                                    value="{myGoal>value}"
                                                    width="100%"
                                                    visible="{= ${myGoal>key} !== 'Weightage' }"
                                                />
                                                <VBox
                                                    width="100%"
                                                    alignItems="Start"
                                                    justifyContent="Start"
                                                >
                                                    <VBox
                                                        width="100%"
                                                        alignItems="Start"
                                                        justifyContent="Center"
                                                    >
                                                        <ObjectIdentifier
                                                            title="Weightage (%): "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <ComboBox
                                                            id="igm2weight"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </VBox>

                                                    <VBox
                                                        width="100%"
                                                        alignItems="Start"
                                                        justifyContent="Start"
                                                    >
                                                        <HBox  width="100%"
                                                        alignItems="Center"
                                                        justifyContent="Start" >
                                                        <ObjectIdentifier
                                                            title="Appraisee Score: "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <Button
                                                            icon="sap-icon://information"
                                                            type="Transparent"
                                                            press="onClickScoreInfo"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                            class="sapUiSmallMarginBegin sapUiSmallMarginEnd"
                                                        />
                                                        </HBox>
                                                        <ComboBox
                                                            id="igm2AESCR"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </VBox>

                                                    <VBox
                                                        width="100%"
                                                        alignItems="Start"
                                                        justifyContent="Start"
                                                    >
                                                       <HBox  width="100%"
                                                        alignItems="Center"
                                                        justifyContent="Start" >
                                                        <ObjectIdentifier
                                                            title="Appraiser Score: "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <Button
                                                            icon="sap-icon://information"
                                                            type="Transparent"
                                                            press="onClickScoreInfo"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                            class="sapUiSmallMarginBegin sapUiSmallMarginEnd"
                                                        />
                                                        </HBox>
                                                        <ComboBox
                                                            id="igm2ARSCR"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </VBox>
                                                </VBox>
                                            </VBox>
                                            <VBox width="100%" visible="{= !${device>/browser/mobile} }">
                                                <OverflowToolbar
                                                    style="Clear"
                                                    design="Transparent"
                                                    visible="{= ${myGoal>key} !== 'Weightage' }"
                                                >
                                                    <HBox
                                                        alignItems="Center"
                                                        justifyContent="SpaceBetween"
                                                        width="100%"
                                                    >
                                                        <ObjectIdentifier
                                                            title="{myGoal>num} {myGoal>title}"
                                                            tooltip="{myGoal>title}"
                                                            
                                                        />
                                                        <HBox
                                                            alignItems="Center"
                                                            justifyContent="End"
                                                        >
                                                             <Button
                                                                icon="{myGoal>addIcon}"
                                                                text="{myGoal>addText}"
                                                                
                                                                press="onClickAddAppraiser"
                                                                class="sapUiTinyMarginBegin sapUiTinyMarginEnd"
                                                                visible="{= ${myGoal>addIcon} === 'sap-icon://add' }"
                                                            />
                                                            <Button
                                                                icon="{myGoal>deleteIcon}"
                                                                press="handleButtonPress"
                                                                class="sapUiTinyMarginBegin sapUiTinyMarginEnd"
                                                                visible="{= ${myGoal>deleteIcon} === 'sap-icon://delete' }"
                                                            />
                                                        </HBox>
                                                    </HBox>
                                                </OverflowToolbar>
                                                <TextArea
                                                    value="{myGoal>value}"
                                                    width="100%"
                                                    visible="{= ${myGoal>key} !== 'Weightage' }"
                                                />
                                                <HBox
                                                    width="100%"
                                                    alignItems="Center"
                                                    justifyContent="SpaceBetween"
                                                >
                                                    <HBox
                                                        width="33%"
                                                        alignItems="Center"
                                                        justifyContent="Start"
                                                    >
                                                        <ObjectIdentifier
                                                            title="Weightage (%): "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <ComboBox
                                                            id="ig2weight"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </HBox>

                                                    <HBox
                                                        width="33%"
                                                        alignItems="Center"
                                                        justifyContent="Start"
                                                    >
                                                        <ObjectIdentifier
                                                            title="Appraisee Score: "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <Button
                                                            icon="sap-icon://information"
                                                            type="Transparent"
                                                            press="onClickScoreInfo"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                            class="sapUiSmallMarginBegin sapUiSmallMarginEnd"
                                                        />
                                                        <ComboBox
                                                            id="ig2AESCR"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </HBox>

                                                    <HBox
                                                        width="33%"
                                                        alignItems="Center"
                                                        justifyContent="Start"
                                                    >
                                                        <ObjectIdentifier
                                                            title="Appraiser Score: "
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                        <Button
                                                            icon="sap-icon://information"
                                                            type="Transparent"
                                                            press="onClickScoreInfo"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                            class="sapUiSmallMarginBegin sapUiSmallMarginEnd"
                                                        />
                                                        <ComboBox
                                                            id="ig2ARSCR"
                                                            value="{myGoal>value}"
                                                            visible="{= ${myGoal>key} === 'Weightage' }"
                                                        />
                                                    </HBox>
                                                </HBox>
                                            </VBox>
                                        </items>
                                    </FlexBox>
                                </CustomTreeItem>
                            </Tree>
                        </VBox>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
        </uxap:sections>
    </uxap:ObjectPageLayout>
</mvc:View>
